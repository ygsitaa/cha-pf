import{g as f,d as C,a as t,b as e,j as S,T as $,r as g,c as a,e as p,n as x,o as w,w as I,k as L,h as m,L as B,t as h,l as E,F as b,m as k}from"./index-Dx8PBP7t.js";import{b as F}from"./api-3v11AxA4.js";const N={class:"portal-container"},z={class:"portal-content"},T={__name:"Portal",props:{hello:String,handleCloseModal:Function},setup(l){return(o,n)=>(t(),C($,{to:".right-container"},[e("div",N,[e("div",{role:"button",tabindex:"0",onClick:n[0]||(n[0]=(...d)=>l.handleCloseModal&&l.handleCloseModal(...d)),class:"portal-underlay"}),e("div",z,[S(o.$slots,"default",{},void 0)])])]))}},V=f(T,[["__scopeId","data-v-ce38699d"]]),j={class:"image-container"},q={key:0,class:"loading-placeholder"},D=["src","alt"],O={__name:"LazyImage",props:{src:{type:String,required:!0},alt:{type:String,default:""}},setup(l){const o=g(!1),n=g(!1);function d(){o.value=!0}function c(){n.value=!0}return(s,u)=>(t(),a("div",j,[!o.value&&!n.value?(t(),a("div",q,[...u[0]||(u[0]=[e("div",{class:"spinner"},null,-1)])])):p("",!0),e("img",{src:l.src,alt:l.alt,onLoad:d,onError:c,class:x({"image-loaded":o.value})},null,42,D)]))}},P=f(O,[["__scopeId","data-v-b88e788c"]]),X={key:0},A={key:1,class:"error-message"},G={key:2},H={class:"painting-header"},J={key:0},K={class:"painting-img"},Q={id:"carouselModal",class:"carousel slide"},R={class:"carousel-inner"},U=["href"],W={key:0,class:"painting-descr"},Y={class:"grid-scroll"},Z={class:"grid"},ee=["onClick"],te={__name:"Paintings",props:{selectedPainting:{type:Object,default:null,required:!1}},emits:["clearSelectedPainting","update:selectedPainting"],setup(l,{emit:o}){const n=g([]),d=g(!0),c=g(null),s=l,u=o;w(async()=>{try{n.value=await F()}catch{c.value="Failed to load paintings"}finally{d.value=!1}});function y(){u("clearSelectedPainting")}function M(_){u("update:selectedPainting",_)}return I(()=>s.selectedPainting,_=>{_&&L(()=>{const i=document.getElementById("carouselModal");i&&new bootstrap.Carousel(i,{})})}),(_,i)=>d.value?(t(),a("div",X,[m(B)])):c.value?(t(),a("div",A,h(c.value),1)):(t(),a("div",G,[s.selectedPainting?(t(),C(V,{key:0,hello:"world",handleCloseModal:y},{default:E(()=>[e("div",H,[s.selectedPainting.name?(t(),a("h4",J,h(s.selectedPainting.name),1)):p("",!0),e("button",{type:"button",class:"btn-close-portal fa-solid fa-xmark","data-bs-dismiss":"modal","aria-label":"Close",onClick:y},"X")]),e("div",K,[e("div",Q,[e("div",R,[(t(!0),a(b,null,k(s.selectedPainting.images,(r,v)=>(t(),a("div",{key:r,class:x(["carousel-item",{active:v===0}])},[e("a",{href:r,target:"_blank"},[m(P,{src:r,class:"d-block w-50 mx-auto",alt:s.selectedPainting.name},null,8,["src","alt"])],8,U)],2))),128))]),i[0]||(i[0]=e("button",{class:"carousel-control-prev",type:"button","data-bs-target":"#carouselModal","data-bs-slide":"prev"},[e("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),e("span",{class:"visually-hidden"},"Previous")],-1)),i[1]||(i[1]=e("button",{class:"carousel-control-next",type:"button","data-bs-target":"#carouselModal","data-bs-slide":"next"},[e("span",{class:"carousel-control-next-icon","aria-hidden":"true"}),e("span",{class:"visually-hidden"},"Next")],-1))])]),s.selectedPainting.descr?(t(),a("div",W,[e("p",null,h(s.selectedPainting.descr),1)])):p("",!0)]),_:1})):p("",!0),e("div",Y,[e("div",Z,[(t(!0),a(b,null,k(n.value,(r,v)=>(t(),a("div",{class:"grid-element",key:v,onClick:ae=>M(r)},[m(P,{src:r.smallImg,alt:r.name},null,8,["src","alt"])],8,ee))),128))])])]))}},le=f(te,[["__scopeId","data-v-8ad489df"]]);export{le as default};
